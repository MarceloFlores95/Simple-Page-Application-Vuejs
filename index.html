<!DOCTYPE html>
<html>

<head>
    <meta charset = "UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Simple Page Application of Pets!</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>

<style>
    body { 
        background-color: #eae2b7;
    }
    nav {
        background-color: #003049;
    }
    nav a {
        color: white !important;
    }
</style>

<body>

    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="#">PetImage</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="https://dog.ceo/dog-api/" target="_blank">Dog Api</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://thecatapi.com/" target="_blank">Cat Api</a>
              </li>
          </ul>
          
        </div>
      </nav>



        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="https://ichef.bbci.co.uk/news/976/cpsprodpb/BAF5/production/_111516874_gettyimages-451627799-1.jpg" class="d-block w-100" style="height: 500px;" alt="...">
            </div>
              <div class="carousel-item">
                <img src="https://blogs.cdc.gov/publichealthmatters/files/2020/05/golden_retiver_cat_cropped.jpg" class="d-block w-100" style="height: 500px;" alt="...">
            </div>
              <div class="carousel-item">
                <img src="https://cdn.aarp.net/content/dam/aarp/benefits_discounts/providers/petplan-/1140x641-petplan-dog-and-cat-snuggling-on-floor.jpg" class="d-block w-100" style="height: 500px;"  alt="...">
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>



    <div class="container">
        <div id="app">
            <h1 v-bind:title="dataInfo" class="text-center">
                {{ title }}
            </h1>
            
            <h3>Please select a pet: </h3>
            <select v-model="selected">
                <option disabled value="">Select a pet</option>
                <option>Dog</option>
                <option>Cat</option>
            </select>

            <br>

            <span v-if="selected != '' ">You select: {{ selected }}</span>

            <br>
            
            <p>Write a message:</p>
            <input v-model="comentario" placeholder="Text">

            <p>Your message is : {{ comentario }}</p>
    

            <br><br>
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <div class="card" style="width: 400px; padding: 40px;" v-if="selected == 'Dog'">
                        <img
                            :src="dogImage" 
                            alt=""
                            height="auto"
                            width="250px"
                            class = "mx-auto d-block"
                        >
        
                        <div class="card-body mx-auto">
                          <p class="card-text">Press the button to change the image.</p>
                        </div>
        
                        <div>
                            <div v-bind:title="message" class="text-center">
                                <button v-on:click="getDogImage()" > Press button</button>   
                            </div>
                        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <div class="card" style="width: 400px; padding: 40px;" v-if="selected == 'Cat'">
                        <img
                            :src="catImage" 
                            alt=""
                            height="auto"
                            width="250px"
                            class = "mx-auto d-block"
                        >

                        <div class="card-body mx-auto">
                            <p class="card-text">Press the button to change the image.</p>
                        </div>

                        <div>
                            <div v-bind:title="message" class="text-center">
                                <button v-on:click="getCatImage()" > Press button</button>   
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>


           
    
        </div>
    </div>
    

    <footer class="footer mt-auto py-3">
        <div class="container">
            <span class="text-muted mx-auto">
                created by Marcelo Flores
            </span>
        </div>
    </footer>

      

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
              title: 'Simple Page Application of Pets!',
              message: 'You loaded this page on ' + new Date().toLocaleString(),
              dataInfo:'This is a simple page for random pets',
              comentario: '',
              dogImage: '',
              catImage: '',
              selected: ''
            },
            methods: {
                getDogImage() {
                    fetch("https://dog.ceo/api/breeds/image/random")
                    .then(response => {
                        // console.log(response)
                        if(response.ok){
                            responseJSON = response.json()
                            // console.log(responseJSON); //first consume it in console.log
                            return responseJSON; //then consume it again, the error happens
                        }
                    })
                    .then(data => {
                        // console.log(data)
                        this.dogImage = data.message
                    })
                },
                getCatImage() {
                    fetch("https://api.thecatapi.com/v1/images/search")
                    .then(response => {
                        // console.log(response)
                        if(response.ok){
                            responseJSON = response.json()
                            // console.log(responseJSON); //first consume it in console.log
                            return responseJSON; //then consume it again, the error happens
                        }
                    })
                    .then(data => {
                        //console.log(data)
                        this.catImage = data[0].url
                    })
                }

            },
            created() {
                this.getDogImage(),
                this.getCatImage()             
            },
            mounted() {
                if(localStorage.comentario) this.comentario = localStorage.comentario;
            },
            watch:{
                comentario(newComentario) {
                localStorage.comentario = newComentario;
                }
            }
          })
    </script>



</body>
</html>










